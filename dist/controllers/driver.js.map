{"version":3,"sources":["../../src/controllers/driver.js"],"names":["DriverController","register","req","res","next","driverRegistration","checkBody","body","getValidationResult","then","console","log","_db","driverReg","create","response","json","data","status","message","err","handleErrorResponse","controller"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;IAEaA,gB,WAAAA,gB;;;;;;;;;;;;;;8MAETC,Q,GAAW,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AAC3B,qCAAeC,kBAAf,CAAkCH,IAAII,SAAtC,EAAiDJ,IAAIK,IAArD,EAA2DL,IAAIM,mBAAJ,EAA3D,EAAsFC,IAAtF,CAA2F,UAACF,IAAD,EAAU;AACjGG,wBAAQC,GAAR,CAAY,qBAAZ,EAAkCJ,IAAlC;AACA;AACA;AACA;AACI,sBAAKK,GAAL,CAASC,SAAT,CAAmBC,MAAnB,CAA0BP,IAA1B,EAAgCE,IAAhC,CAAqC,UAACM,QAAD,EAAc;AAC/CZ,wBAAIa,IAAJ,CAAS,EAAEC,MAAMF,QAAR,EAAkBG,QAAQ,CAA1B,EAA6BC,SAAS,SAAtC,EAAT;AACH,iBAFD,EAEG,UAACC,GAAD;AAAA,2BAAS,MAAKC,mBAAL,CAAyBlB,GAAzB,EAA8BiB,GAA9B,CAAT;AAAA,iBAFH;AAGH,aARL,EAQO,UAACA,GAAD,EAAS;AACR,sBAAKC,mBAAL,CAAyBlB,GAAzB,EAA8BiB,GAA9B;AACH,aAVL;AAWA;AACH,S;;;;;;AAGL,IAAME,aAAa,IAAItB,gBAAJ,EAAnB;kBACesB,U","file":"driver.js","sourcesContent":["import BaseAPIController from \"./BaseAPIController\";\nimport driverProvider from '../providers/driverProvider';\nimport _ from \"lodash\";\nimport sendSMS from './../service/sendSMS';\n\nexport class DriverController extends BaseAPIController {\n\n    register = (req, res, next) => {\n        driverProvider.driverRegistration(req.checkBody, req.body, req.getValidationResult()).then((body) => {\n            console.log(\"body***************\",body)\n            // var val = Math.floor(1000 + Math.random() * 9000);\n            // body['OTPS'] = val;\n            // sendSMS.send(body.phone, body.OTPS).then((smsResponse) => {\n                this._db.driverReg.create(body).then((response) => {\n                    res.json({ data: response, status: 1, message: 'success' });\n                }, (err) => this.handleErrorResponse(res, err))\n            }, (err) => {\n                this.handleErrorResponse(res, err)\n            })\n        // }, (err) => this.handleErrorResponse(res, err))\n    }\n}\n\nconst controller = new DriverController();\nexport default controller;"]}